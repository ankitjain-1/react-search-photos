(this["webpackJsonpreact-search-pics"]=this["webpackJsonpreact-search-pics"]||[]).push([[0],{44:function(e,t,a){},45:function(e,t,a){},46:function(e,t,a){},47:function(e,t,a){"use strict";a.r(t);var s=a(0),n=a(17),r=a.n(n),i=a(8),c=a.n(i),l=a(18),o=a(3),u=a(4),d=a(6),j=a(5),h=a(2),m=a.n(h),b=a(19),g=a.n(b),p=function(e){Object(d.a)(a,e);var t=Object(j.a)(a);function a(){var e;Object(o.a)(this,a);for(var s=arguments.length,n=new Array(s),r=0;r<s;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).state={term:""},e.formSubmitHandler=function(t){t.preventDefault(),e.props.submit(e.state.term)},e}return Object(u.a)(a,[{key:"render",value:function(){var e=this;return Object(s.jsx)("div",{className:"ui segment",children:Object(s.jsxs)("form",{className:"ui form",onSubmit:function(t){return e.formSubmitHandler(t)},children:[Object(s.jsx)("label",{className:"ui label large",htmlFor:"searchBar",children:"Search Image"}),Object(s.jsx)("input",{className:"ui input",id:"searchBar",type:"text",value:this.state.term,onChange:function(t){return e.setState({term:t.target.value})}})]})})}}]),a}(h.Component),O=(a(44),function(e){Object(d.a)(a,e);var t=Object(j.a)(a);function a(e){var s;return Object(o.a)(this,a),(s=t.call(this,e)).setSpans=function(){s.setState({isImageLoading:!1});var e=s.imageRef.current.clientHeight;console.log(e);var t=Math.ceil(e/10)+7;s.setState({spans:t})},s.imageRef=Object(h.createRef)(),s.state={spans:20,isImageLoading:!1},s}return Object(u.a)(a,[{key:"componentDidMount",value:function(){this.setState({isImageLoading:!0}),this.imageRef.current.addEventListener("load",this.setSpans)}},{key:"render",value:function(){var e=this.props.image,t=e.urls,a=e.alt_description;return Object(s.jsx)("div",{style:{gridRowEnd:"span ".concat(this.state.spans)},children:this.state.isImageLoading?Object(s.jsxs)("div",{ref:this.imageRef,class:"ui placeholder imagePlaceholder",children:[Object(s.jsxs)("div",{class:"image header",children:[Object(s.jsx)("div",{class:"line"}),Object(s.jsx)("div",{class:"line"})]}),Object(s.jsxs)("div",{class:"paragraph",children:[Object(s.jsx)("div",{class:"line"}),Object(s.jsx)("div",{class:"line"}),Object(s.jsx)("div",{class:"line"}),Object(s.jsx)("div",{class:"line"}),Object(s.jsx)("div",{class:"line"})]})]}):Object(s.jsxs)("div",{className:"imageCard",children:[Object(s.jsx)("p",{style:{textTransform:"capitalize",fontWeight:"bold"},children:a}),Object(s.jsx)("img",{ref:this.imageRef,src:t.thumb,alt:a})]})})}}]),a}(m.a.Component)),v=(a(45),function(e){Object(d.a)(a,e);var t=Object(j.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){var e=this.props.images.map((function(e){return Object(s.jsx)(O,{image:e},e.id)}));return Object(s.jsx)("div",{className:"imagelist",children:e})}}]),a}(m.a.Component)),f=(a(46),function(e){Object(d.a)(a,e);var t=Object(j.a)(a);function a(){var e;Object(o.a)(this,a);for(var s=arguments.length,n=new Array(s),r=0;r<s;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).state={searchTerm:"",loadingJSON:!1,loadingImage:!1,images:[]},e.getImageRandomOrder=function(){var e=Math.ceil(10*Math.random()%3)-1,t=["latest","oldest","popular"];return console.log(t[e]),t[e]},e.onSearchSubmit=function(){var t=Object(l.a)(c.a.mark((function t(a){var s;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.setState({loadingJSON:!0,loadingImage:!0}),t.next=3,g.a.get("https://api.unsplash.com/search/photos/",{headers:{Authorization:"Client-ID vaM25Gzv_0bOcAhZoQuaFqVJ8Wmikr2q13Kd7tRl7v0"},params:{query:a,per_page:30,order_by:e.getImageRandomOrder()}});case 3:s=t.sent,console.log(s.data.results),e.setState({images:s.data.results,loadingJSON:!1});case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(u.a)(a,[{key:"render",value:function(){return Object(s.jsxs)("div",{className:"ui container",children:[Object(s.jsx)(p,{submit:this.onSearchSubmit}),this.state.loadingJSON?Object(s.jsxs)("div",{class:"loader",children:[Object(s.jsx)("div",{class:"ui active dimmer inverted",children:Object(s.jsx)("div",{class:"ui text large loader",children:"Loading"})}),Object(s.jsx)("p",{})]}):Object(s.jsx)(v,{images:this.state.images})]})}}]),a}(h.Component));r.a.render(Object(s.jsx)(f,{}),document.getElementById("root"))}},[[47,1,2]]]);
//# sourceMappingURL=main.5a9b0428.chunk.js.map